<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Promo Video Generator</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; background-color: #f0f0f0; }
        #canvas { border: 1px solid #ccc; background-color: #007BFF; }
        button { padding: 10px 20px; margin: 10px; font-size: 16px; cursor: pointer; }
    </style>
</head>
<body>
    <h1>Product Promo Video Generator</h1>
    <p>This is a simple HTML page that uses Canvas and JavaScript to create an animated promotional "video" simulation. Click "Start Animation" to preview, and "Record Video" to capture and download as WebM (you can convert to MP4 later). Customize the script below with your product details.</p>
    <canvas id="canvas" width="1280" height="720"></canvas>
    <br>
    <button id="startBtn">Start Animation</button>
    <button id="recordBtn">Record Video</button>
    <button id="stopRecordBtn" disabled>Stop & Download</button>

    <!-- CCapture library for recording canvas to video -->
    <script src="https://unpkg.com/ccapture.js/build/CCapture.all.min.js"></script>

    <script>
        // Product Customization - Edit here
        const productName = 'Smart Fitness Tracker';
        const features = [
            'Track steps, heart rate, and sleep',
            'Waterproof and long battery life',
            'Syncs with your phone app',
            'Affordable at $49.99'
        ];
        const imageUrl = 'https://via.placeholder.com/400x400?text=Product+Image'; // Replace with your product image URL
        const bgColor = '#007BFF'; // Background color
        const duration = 30; // Total duration in seconds
        const fps = 30; // Frames per second
        const totalFrames = duration * fps;

        // Canvas setup
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        const startBtn = document.getElementById('startBtn');
        const recordBtn = document.getElementById('recordBtn');
        const stopRecordBtn = document.getElementById('stopRecordBtn');

        let frame = 0;
        let animationId;
        let capturer;
        let isRecording = false;

        // Preload image
        const productImg = new Image();
        productImg.src = imageUrl;

        // Easing function for animations (easeOutQuad)
        function easeOut(t) {
            return t * (2 - t);
        }

        // Draw function for each frame
        function drawFrame(currentFrame) {
            const progress = currentFrame / totalFrames;
            const sec = currentFrame / fps;

            // Clear canvas
            ctx.fillStyle = bgColor;
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            // Intro: Product name (fades in 0-5s)
            if (sec < 5) {
                const alpha = easeOut(sec / 5);
                ctx.fillStyle = rgba(255, 255, 255, ${alpha});
                ctx.font = 'bold 80px Arial';
                ctx.textAlign = 'center';
                ctx.fillText(`Introducing ${productName}`, canvas.width / 2, 200);
            }

            // Product Image: Zooms in (starts at 2.5s, full at 5s+)
            if (sec > 2.5) {
                const imgScale = Math.min(1, easeOut((sec - 2.5) / 2.5));
                const imgWidth = 400 * imgScale;
                const imgHeight = 400 * imgScale;
                ctx.drawImage(productImg, (canvas.width - imgWidth) / 2, (canvas.height - imgHeight) / 2 - 50, imgWidth, imgHeight);
            }

            // Features: One by one (5s each, starting at 5s)
            const featureStart = 5;
            const featureDuration = 5;
            features.forEach((feature, index) => {
                const startSec = featureStart + index * featureDuration;
                const endSec = startSec + featureDuration;
                if (sec >= startSec && sec < endSec) {
                    const featureProgress = (sec - startSec) / featureDuration;
const scale = easeOut(featureProgress);
                    const alpha = scale;
                    ctx.fillStyle = rgba(255, 255, 255, ${alpha});
                    ctx.font = '60px Arial';
                    ctx.fillText(feature, canvas.width / 2, canvas.height - 150);
                    ctx.fillStyle = 'rgba(0,0,0,0.5)';
                    ctx.fillRect((canvas.width / 2) - 300, canvas.height - 200, 600, 100); // Background box
                    ctx.fillStyle = rgba(255, 255, 255, ${alpha});
                    ctx.fillText(feature, canvas.width / 2, canvas.height - 130);
                }
            });

            // CTA: Last 5s
            const ctaStart = featureStart + features.length * featureDuration;
            if (sec >= ctaStart) {
                const alpha = easeOut((sec - ctaStart) / 5);
                ctx.fillStyle = rgba(255, 255, 0, ${alpha}); // Yellow
                ctx.font = 'bold 70px Arial';
                ctx.fillText('Buy Now and Transform Your Fitness!', canvas.width / 2, canvas.height - 50);
            }
        }

        // Animation loop
        function animate() {
            drawFrame(frame);
            frame = (frame + 1) % totalFrames;
            animationId = requestAnimationFrame(animate);
        }

        // Recording with CCapture
        function startRecording() {
            capturer = new CCapture({
                format: 'webm',
                framerate: fps,
                name: 'promo_video',
                quality: 100
            });
            capturer.start();
            isRecording = true;
            frame = 0;
            stopRecordBtn.disabled = false;
            recordLoop();
        }

        function recordLoop() {
            if (!isRecording || frame >= totalFrames) {
                stopRecording();
                return;
            }
            drawFrame(frame);
            capturer.capture(canvas);
            frame++;
            setTimeout(recordLoop, 1000 / fps); // Simulate FPS
        }

        function stopRecording() {
            isRecording = false;
            capturer.stop();
            capturer.save();
            stopRecordBtn.disabled = true;
        }

        // Event listeners
        startBtn.addEventListener('click', () => {
            if (animationId) cancelAnimationFrame(animationId);
            frame = 0;
            animate();
        });

        recordBtn.addEventListener('click', startRecording);
        stopRecordBtn.addEventListener('click', stopRecording);

        // Initial draw
        drawFrame(0);
    </script>

    <p>To deploy: Copy this entire HTML code into a file like index.html, push to GitHub repo, and enable GitHub Pages or deploy to Vercel. For real audio, add an <audio> element and sync it. Convert WebM to MP4 using tools like FFmpeg if needed.</p>
</body>
</html>
```​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​